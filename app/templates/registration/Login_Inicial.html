{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="styleindex.css">
        <LInk rel="stylesheet" href="css/REGISTRO.CSS"></LInk>
    <title>Login</title>
</head>
<body>

    <div class="container d-flex justify-content-center align-items-center min-vh-100">
        <div class="row border rounded-5 p-3 bg-white shadow box-area">
          <div class="col-md-6 rounded-4 d-flex justify-content-center align-items-center flex-column left-box"
            style="background: #fff;">
            <div class="featured-image mb-3">
              <img src="{% static 'app/img/Logo.jpg' %}" class="img-fluid" style="width: 400px;">
            </div>
            <p class="text-white fs-2" style="font-family: 'Courier New', Courier, monospace; font-weight: 600;"></p>
            <small class="text-white text-wrap text-center"
              style="width: 17rem;font-family: 'Courier New', Courier, monospace;">La Experiencia de comprar musica, Esta aca!.</small>
          </div>
          <div class="col-md-6 right-box">
            <div class="row align-items-center">
              <div class="header-text mb-4">
                <h2>THUG TRADE</h2>
                <p>Contentos de tenerte de vuelta</p>
              </div>
              <div class="col">
                <form action="{% url 'login_inicial' %}" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="mb-3">
                    <label for="Nombrelogin" class="form-label"></label>
                    <input type="text" class="form-control" name="nombrelogin" placeholder="Nombre Usuario">
                    <span></span>
                  </div>
                  <div class="mb-3">
                    <label for="passwordlogin" class="form-label"></label>
                    <input type="password" class="form-control" name="passwordlogin" placeholder="Contraseña">
                    <span></span>
                  </div>
                  <div class="input-group mb-5 d-flex justify-content-between"></div>
                  <button class="btn btn-dark" type="submit">Enviar</button>
                </form>
                <div class="row">
                  <a href="{% url 'registro' %}"></a><small>No tienes cuenta? <a href="{% url 'registro' %}">Crea tu cuenta</a></small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    <script 
            const nombrelogin=document.querySelector("[name=nombrelogin]");
            const passwordlogin=document.querySelector("[name=passwordlogin]");
            const CorreoElogin=document.querySelector("[name=CorreoE]");
            
            const Validar=(field)=>{
                const fieldValue = field.value;
                if (fieldValue.length === 0) {
                    field.classList.add("invalido");
                    field.nextElementSibling.classList.add("Error");
                    field.nextElementSibling.innerText = "No dejar Campos vacios";
                } else {
                    field.classList.remove("invalido");
                    field.nextElementSibling.classList.remove("Error");
                    field.nextElementSibling.innerText = "";
                }
            }
            nombrelogin.addEventListener("blur",function(){
                Validar(nombrelogin);
            });
            
            passwordlogin.addEventListener("blur",function(){
                Validar(passwordlogin);
            });
            
            CorreoElogin.addEventListener("blur",function(){
                Validar(CorreoElogin);
            });
            const btnLogin = document.getElementById("btn-login");
            btnLogin.addEventListener("click", function (event) {
            event.preventDefault(); // Evita que se envíe el formulario
            
            const hayErrores = validarCampos();
            if (!hayErrores) {
                // Si no hay errores, envía el formulario
                document.querySelector("form").submit();
            }
            });
    </script>
</body>

</html>